CREATE TABLE onchain_transaction (
    id VARCHAR(500) NOT NULL,
    event_id VARCHAR(36) NOT NULL,
    ts INT(11) NOT NULL,
    status VARCHAR(100) NOT NULL,
    initial_details JSON NOT NULL,
    actual_details JSON NOT NULL,
    error_details JSON NOT NULL,
    created_ts TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_ts TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY(id),
    INDEX OCTTSIDX (ts ASC),
    INDEX OCTSIDX (status ASC),
    INDEX OCTCTS (created_ts ASC),
    INDEX OCTUTS (updated_ts ASC),
    CONSTRAINT OCTEID_FK FOREIGN KEY(event_id) REFERENCES event(id) ON DELETE RESTRICT ON UPDATE CASCADE
);