CREATE TABLE event (
    id VARCHAR(36) NOT NULL,
    event_type VARCHAR(500) NOT NULL,
    dev_id INT NOT NULL,
    status VARCHAR(100) NOT NULL,
    event_json JSON NOT NULL,
    backfill_json JSON NOT NULL,
    created_ts TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_ts TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    PRIMARY KEY(id),
    INDEX ETIDX (event_type ASC),
    INDEX ESIDX (status ASC),
    INDEX ECTS (created_ts ASC),
    INDEX EUTS (updated_ts ASC),
    CONSTRAINT EAK_FK FOREIGN KEY(dev_id) REFERENCES developer(id) ON DELETE RESTRICT ON UPDATE CASCADE
);